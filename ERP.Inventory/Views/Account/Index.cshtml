
@{
    ViewBag.Title = "User Account Page";
}

@section Styles{

    <link href="~/Content/accountIndex.css" rel="stylesheet" />

}

<div class="user__page__wrapper">
    <div class="page__header">
        <div class="title">
            <h1>User List</h1>
        </div>
        <div class="header__button">
            <button class="new__entry open__modal" id="openModal" type="button" >New User</button>
            <!--<button class="clear__entry" type="button">Clear</button
    <button class="edit__entry" type="button">Edit</button>>
            <button class="ellipsis__btn" type="button">NEW USER</button>-->
        </div>
    </div>

    <div class="page__body">
        <table class="user__list__table">
            <thead>
                <tr>
                    <td>#</td>
                    <td>Username</td>
                    <td>Employee</td>
                    <td>Role</td>
                    <td>Level</td>
                    <td>Active</td>
                    <td></td>
                </tr>
            </thead>
            <tbody>
                <tr class="userlistclone">
                    <td>1</td>
                    <td>admin</td>
                    <td>Jose de Eagle</td>
                    <td>Admin</td>
                    <td>Default Level (Level 0)</td>
                    <td>
                        <select>
                            <option>YES</option>
                            <option>NO</option>
                        </select>
                    </td>
                    <td><button onclick="ViewEditUser()">/...</button></td>
                </tr>

            </tbody>
            <tfoot>
                <tr>
                    <td colspan="7">
                        <button>SAVE (ACTIVES ONLY)</button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

<!-- User Modal -->
<div class="user-modal" id="userModal">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <div >
            <div >
                <div >
                    <style>
                        .user_table td {
                            vertical-align: text-top;
                        }
                    </style>
                    <table class="user_table" >
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <h1>CREATE OR UPDATE USER</h1>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <label>Username : </label>
                                </td>
                                <td>
                                    <input class="user_username" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Password : </label>
                                </td>
                                <td>  <input class="user_password" type="password" /></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Mobile No. : </label>
                                </td>
                                <td>
                                    <input class="user_mobileno" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Employee : </label>
                                </td>
                                <td>
                                    <div class="autocomplete">
                                        <input class="user_info" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Role : </label>
                                </td>
                                <td>
                                    <div class="autocomplete">
                                        <input class="user_role" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Level : </label>
                                </td>
                                <td>
                                    <div class="autocomplete">
                                        <input class="user_level" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Active : </label>
                                </td>
                                <td>
                                    <select class="user_active">
                                        <option selected> YES </option>
                                        <option>NO</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td  style="vertical-align:text-top;">
                                    <label>isCustom : </label>
                                </td>
                                <td>
                                    <select class="user_active" onchange="Toggle(event)" onclick="event.stopPropagation();">
                                        <option value="YES" > YES </option>
                                        <option value="NO" selected>NO</option>
                                    </select>
                                    <br/>
                                    <table class="user_roleaccess">
                                        <thead>
                                            <tr>
                                                <th>
                                                    Control Name
                                                </th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>SAMPLE</td>
                                                <td>
                                                    <input type="checkbox" /> INSERT<br />
                                                    <input type="checkbox" /> UPDATE <br />
                                                    <input type="checkbox" /> DELETE <br />
                                                    <input type="checkbox" /> SELECT <br />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button onclick="SavingUser()">SAVE</button>
                    <script>
                        


                    </script>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    

<script>

    var userModal = document.getElementById('userModal');

    var addBtn = document.getElementsByClassName('open__modal')[0];

    addBtn.onclick = function () {
        userModal.style.display = "block";
        document.getElementsByClassName('user_table')[0].setAttribute('data-id', 0);

    }

    document.getElementById('closeModal').onclick = function () {
        userModal.style.display = "none";
    }

    window.onclick = function (event) {
        console.log(event.target);
    }


    function ViewEditUser() {
        userModal.style.display = "block";
        document.getElementsByClassName('user_table')[0].setAttribute('data-id', 1);
    }


    function SavingUser() {
        var userInfo = document.getElementsByClassName('user_table');
        var getID = userInfo[0].getAttribute('data-id');

        var username = document.getElementsByClassName('user_username')[0].value;
        var userpass = document.getElementsByClassName('user_password')[0].value;
        var mobileno = document.getElementsByClassName('user_mobileno')[0].value;
        var userinfo = document.getElementsByClassName('user_info')[0].getAttribute('data-id');
        var userrole = document.getElementsByClassName('user_role')[0].getAttribute('data-id');
        var userlevel = document.getElementsByClassName('user_level')[0].getAttribute('data-id');
        var useractive = document.getElementsByClassName('user_active').value;

        

    }

    function Toggle(event) {

        var b = event.target.value;
        //if (b == 'YES') {}
        console.log(b);
        event.stopPropagation();
        //var user_roleaccess = document.getElementsByClassName('user_roleaccess')[0];
        //user_roleaccess.style.display = (b == 'YES' ? '' : 'none');
    }


</script>    
    
}